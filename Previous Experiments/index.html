<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Previous Experiments ‚Äî AP.Econ.Graphs</title>
  <link href="https://fonts.googleapis.com/css2?family=Syne:wght@700;800&family=Outfit:wght@300;400;500&family=DM+Mono&display=swap" rel="stylesheet" />
  <style>
    :root {
      --bg: #fff;
      --ink: #0d0d0d;
      --mid: #666;
      --faint: #f4f4f4;
      --line: #e8e8e8;
      --blue: #0057ff;
      --blue-dim: #e6eeff;
    }
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    html { scroll-behavior: smooth; }
    body {
      background: var(--bg); color: var(--ink);
      font-family: 'Outfit', -apple-system, sans-serif;
      font-weight: 300; line-height: 1.7;
      -webkit-font-smoothing: antialiased;
    }

    /* TOPBAR */
    .topbar {
      position: sticky; top: 0; z-index: 100;
      display: flex; align-items: center; justify-content: space-between;
      padding: 0 clamp(1rem,4vw,2rem); height: 56px;
      border-bottom: 1px solid var(--line);
      background: rgba(255,255,255,.95); backdrop-filter: blur(12px);
    }
    .logo { font-family: 'Syne', sans-serif; font-weight: 800;
      font-size: clamp(.85rem,2vw,1rem); letter-spacing: -.02em;
      color: var(--ink); text-decoration: none; }
    .logo span { color: var(--blue); }

    /* PAGE HEADER */
    .page-header {
      border-bottom: 1px solid var(--line);
      padding: clamp(2.5rem,6vw,4rem) clamp(1rem,4vw,2rem) clamp(1.5rem,4vw,2.5rem);
      max-width: 1040px; margin: 0 auto;
    }
    .breadcrumb { font-size: .75rem; color: var(--mid); margin-bottom: .9rem;
      display: flex; align-items: center; gap: .4rem; }
    .breadcrumb a { color: var(--blue); text-decoration: none; }
    .breadcrumb a:hover { text-decoration: underline; }
    .page-header h1 { font-family: 'Syne', sans-serif; font-weight: 800;
      font-size: clamp(2rem,6vw,4rem); letter-spacing: -.04em; line-height: 1; }
    .page-header h1 .accent { color: var(--blue); }
    .page-desc { margin-top: .8rem; font-size: .95rem; color: var(--mid); }

    /* NOTE BANNER */
    .note-banner {
      max-width: 1040px; margin: 0 auto;
      padding: 1rem clamp(1rem,4vw,2rem) 0;
      border-bottom: 1px solid var(--line);
      padding-bottom: 1rem;
    }
    .note-inner {
      background: var(--faint); border-radius: 6px;
      padding: .8rem 1.1rem; font-size: .83rem; color: var(--mid);
      display: flex; align-items: flex-start; gap: .6rem;
    }

    /* STATS BAR */
    .stats-bar {
      max-width: 1040px; margin: 0 auto;
      padding: .9rem clamp(1rem,4vw,2rem);
      display: flex; align-items: center; justify-content: space-between;
      flex-wrap: wrap; gap: .5rem;
      border-bottom: 1px solid var(--line);
      font-size: .78rem; color: var(--mid);
    }
    .stats-bar strong { color: var(--ink); font-weight: 500; }
    .gh-link { color: var(--mid); text-decoration: none; font-size: .78rem; }
    .gh-link:hover { color: var(--ink); }

    /* MAIN */
    main {
      max-width: 1040px; margin: 0 auto;
      padding: clamp(2rem,5vw,3.5rem) clamp(1rem,4vw,2rem) clamp(4rem,8vw,6rem);
    }

    /* STATUS */
    #status { padding: 3rem 0; text-align: center; color: var(--mid); font-size: .9rem; }
    .spinner { width: 18px; height: 18px; border: 2px solid var(--line);
      border-top-color: var(--blue); border-radius: 50%;
      animation: spin .7s linear infinite;
      display: inline-block; margin-right: .5rem; vertical-align: middle; }
    @keyframes spin { to { transform: rotate(360deg); } }

    /* GRAPH LIST */
    .graph-list { list-style: none; }
    .graph-list li { border-bottom: 1px solid var(--line); }
    .graph-list li:first-child { border-top: 1px solid var(--line); }
    .graph-list li a {
      display: grid;
      grid-template-columns: 2.8rem 1fr auto;
      align-items: center; gap: clamp(.6rem,2vw,1.2rem);
      padding: clamp(.75rem,2vw,.95rem) .4rem;
      text-decoration: none; color: var(--ink);
      transition: background .15s, padding-left .15s;
      border-radius: 4px;
    }
    .graph-list li a:hover, .graph-list li a:active {
      background: var(--faint); padding-left: .9rem;
    }
    .graph-label { font-family: 'DM Mono', monospace; font-size: .7rem;
      background: var(--faint); color: var(--mid);
      border: 1px solid var(--line);
      padding: .15rem .45rem; border-radius: 3px; text-align: center;
      white-space: nowrap; }
    .graph-title { font-size: clamp(.88rem,2vw,.97rem); font-weight: 400; }
    .graph-arrow { color: var(--blue); font-size: .9rem;
      opacity: 0; transition: opacity .2s; }
    .graph-list li a:hover .graph-arrow { opacity: 1; }

    /* EMPTY / ERROR */
    .empty-state { padding: 3rem 0; text-align: center; color: var(--mid); }
    .empty-state p { font-size: .9rem; }
    .empty-state a { color: var(--blue); text-decoration: none; }

    /* FOOTER */
    .footer-wrap { border-top: 1px solid var(--line); }
    footer { max-width: 1040px; margin: 0 auto;
      padding: clamp(1.2rem,3vw,1.5rem) clamp(1rem,4vw,2rem);
      display: flex; flex-wrap: wrap; justify-content: space-between;
      align-items: center; gap: .5rem; font-size: .78rem; color: var(--mid); }
    footer a { color: var(--mid); text-decoration: none; }
    footer a:hover { color: var(--ink); }

    @media (max-width: 480px) {
      .graph-list li a { grid-template-columns: 2.4rem 1fr; }
      .graph-arrow { display: none; }
    }
  </style>
</head>
<body>

<header class="topbar">
  <a class="logo" href="../index.html"><span>AP</span>¬∑Econ¬∑Graphs</a>
</header>

<div class="page-header">
  <div class="breadcrumb">
    <a href="../index.html">‚Üê Home</a>
    <span>/</span>
    <span>Previous Experiments</span>
  </div>
  <h1>Previous <span class="accent">Experiments</span></h1>
  <p class="page-desc">Earlier prototypes and exploratory graph models. Click any file to open it.</p>
</div>

<div class="note-banner">
  <div class="note-inner">
    <span>üß™</span>
    <span>These are older, experimental files ‚Äî they show how this project evolved over time.</span>
  </div>
</div>

<div class="stats-bar">
  <span id="stats-label">&nbsp;</span>
  <a class="gh-link" href="https://github.com/Raylaoshi/AP.Econ.Graphs/tree/main/Previous%20Experiments" target="_blank">View folder on GitHub ‚Üó</a>
</div>

<main>
  <div id="status"><span class="spinner"></span> Loading‚Ä¶</div>
  <ul class="graph-list" id="graph-list" style="display:none"></ul>
</main>

<div class="footer-wrap">
  <footer>
    <span>AP.Econ.Graphs ¬∑ <a href="https://github.com/Raylaoshi/AP.Econ.Graphs" target="_blank">github.com/Raylaoshi</a></span>
    <span>Built with KineticGraphs by Chris Makler</span>
  </footer>
</div>

<script>
const REPO   = 'Raylaoshi/AP.Econ.Graphs';
const FOLDER = 'Previous Experiments';
const GH_FOLDER_URL = 'https://github.com/Raylaoshi/AP.Econ.Graphs/tree/main/Previous%20Experiments';

async function init() {
  const statusEl = document.getElementById('status');
  const listEl   = document.getElementById('graph-list');
  const statsEl  = document.getElementById('stats-label');

  try {
    const res = await fetch(
      `https://api.github.com/repos/${REPO}/contents/${encodeURIComponent(FOLDER)}`
    );
    if (!res.ok) throw new Error(res.status);
    const files = await res.json();

    const htmlFiles = files.filter(f =>
      f.type === 'file' &&
      f.name.toLowerCase().endsWith('.html') &&
      f.name.toLowerCase() !== 'index.html'
    );

    statusEl.style.display = 'none';

    if (htmlFiles.length === 0) {
      statusEl.style.display = 'block';
      statusEl.innerHTML = `<div class="empty-state">
        <p>No files here yet. <a href="${GH_FOLDER_URL}" target="_blank">Browse on GitHub ‚Üí</a></p>
      </div>`;
      return;
    }

    listEl.style.display = 'block';

    htmlFiles.forEach((file, i) => {
      // Clean display name: remove .html extension, replace hyphens/underscores with spaces
      const displayName = file.name
        .replace(/\.html$/i, '')
        .replace(/[-_]/g, ' ');

      const num = String(i + 1).padStart(2, '0');
      const li = document.createElement('li');
      li.innerHTML = `
        <a href="${encodeURIComponent(file.name)}" target="_blank">
          <span class="graph-label">${num}</span>
          <span class="graph-title">${displayName}</span>
          <span class="graph-arrow">‚Üí</span>
        </a>`;
      listEl.appendChild(li);
    });

    statsEl.innerHTML = `<strong>${htmlFiles.length}</strong> file${htmlFiles.length !== 1 ? 's' : ''}`;

  } catch (err) {
    statusEl.innerHTML = `<div class="empty-state">
      <p>‚ö†Ô∏è Could not load files. <a href="${GH_FOLDER_URL}" target="_blank">Browse on GitHub instead ‚Üí</a></p>
    </div>`;
    console.error(err);
  }
}

init();
</script>
</body>
</html>
